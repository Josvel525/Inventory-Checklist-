m<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Inventory Report</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main class="shell">
    <section class="card">
      <h1>Inventory Report</h1>
      <div id="meta"></div>
    </section>

    <section class="card">
      <h2>Items</h2>
      <div id="items"></div>
    </section>
  </main>

<script>
  const STORE_KEY = "venue_inventory_v5";
  const s = JSON.parse(localStorage.getItem(STORE_KEY));

  if (!s) {
    document.body.innerHTML = "<p>No saved inventory found.</p>";
    throw new Error("No inventory");
  }

  const meta = `
    <p><strong>Venue:</strong> ${s.meta.venue}</p>
    <p><strong>Event:</strong> ${s.meta.event}</p>
    <p><strong>Bartender:</strong> ${s.meta.bartender}</p>
    <p><strong>Date:</strong> ${s.meta.date}</p>
  `;
  document.getElementById("meta").innerHTML = meta;

  const rows = s.items.map(i => {
    const total = i.primaryUnit === "case"
      ? (i.primaryQty * i.caseSize) + i.secondaryQty
      : i.primaryQty;

    return `
      <div class="pill" style="margin-bottom:6px;">
        <strong>${i.name}</strong> â€” 
        ${i.primaryQty} ${i.primaryUnit}${i.primaryUnit === "case" ? ` (${i.caseSize}/case)` : ""},
        ${i.secondaryQty} ${i.secondaryUnit || ""} |
        <strong>Total cans:</strong> ${total}
      </div>
    `;
  }).join("");

  document.getElementById("items").innerHTML = rows;
</script>
</body>
</html>